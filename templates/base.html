{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Paperless System{% endblock %}</title>
    
    <link rel="icon" type="image/png" href="{% static 'assets/img/capitol_logo.png' %}">

    <link href="{% static 'assets/css/bootstrap.css' %}" rel="stylesheet">
    <link href="{% static 'assets/css/app.css' %}" rel="stylesheet">
    <link href="{% static 'assets/css/themes/theme-a.css' %}" rel="stylesheet">
<<<<<<< Updated upstream
    <link rel="stylesheet" href="{% static 'assets/vendor/simple-line-icons/css/simple-line-icons.css' %}">
=======
    
>>>>>>> Stashed changes
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- SIMPLE LINE ICONS-->
    
<<<<<<< Updated upstream

=======
>>>>>>> Stashed changes
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #f8f9fa; min-height: 100vh; margin: 0; }
        .navbar-brand img { width: 40px; margin-right: 10px; }
<<<<<<< Updated upstream
        /* Fix for Bootstrap 4 compatibility */
        .navbar-nav .nav-link {
            padding-right: 0.5rem;
            padding-left: 0.5rem;
        }
        .ml-auto {
            margin-left: auto !important;
        }
        .mr-auto {
            margin-right: auto !important;
        }
=======
        .full-width-container { width: 100%; padding: 0; margin: 0; }
>>>>>>> Stashed changes
    </style>
    {% block extra_css %}{% endblock %}
</head>
<body>
    {% block main_container %}
        {% if user.is_authenticated %}
            <div class="wrapper">
                <header class="topnavbar-wrapper">
                    <!-- START Top Navbar-->
                    <nav class="navbar topnavbar">
                        <!-- START navbar header-->
                        <div class="navbar-header">
                            <a class="navbar-brand" href="#">
                                <div class="brand-logo">
                                    <img class="img-fluid" src="{% static 'assets/img/capitol_logo.png' %}" alt="App Logo">
                                    <span class="ml-2">EDMS</span>
                                </div>
                                <div class="brand-logo-collapsed">
                                    <img class="img-fluid" src="{% static 'assets/img/capitol_logo.png' %}" alt="App Logo">
                                </div>
                            </a>
                        </div>
                        <!-- END navbar header-->
                        
                        <!-- START Left navbar-->
                        <ul class="navbar-nav mr-auto flex-row">
                            <!-- <li class="nav-item">
                                <a class="nav-link d-none d-md-block d-lg-block d-xl-block" href="#" data-trigger-resize="" data-toggle-state="aside-collapsed">
                                    <em class="fas fa-bars"></em>
                                </a>
                                <a class="nav-link sidebar-toggle d-md-none" href="#" data-toggle-state="aside-toggled" data-no-persist="true">
                                    <em class="fas fa-bars"></em>
                                </a>
                            </li> -->
                            <!-- User avatar toggle-->
                            <li class="nav-item d-none d-md-block">
                                <a class="nav-link" id="user-block-toggle" href="#user-block" data-toggle="collapse">
                                    <em class="icon-user"></em>
                                </a>
                            </li>
                        </ul>
                        <!-- END Left navbar-->
                        
                        <!-- START Right Navbar-->
                        <ul class="navbar-nav flex-row">
                            <!-- Welcome message -->
                            <li class="nav-item d-none d-md-block">
                                <span class="nav-link">
                                    Welcome, {{ user.username|title }}
                                </span>
                            </li>
                            <!-- Logout -->
                            <li class="nav-item">
                                <a href="{% url 'logout' %}" class="nav-link">
                                    <em class="icon-logout"></em>
                                </a>
                            </li>
                        </ul>
                        <!-- END Right Navbar-->
                    </nav>
                    <!-- END Top Navbar-->
                </header>

                <!-- Sidebar -->
                <aside class="aside-container">
                    <div class="aside-inner">
                        {% block sidebar %}
                            {% if user.is_superuser %}
                                {% include 'includes/admin_sidebar.html' %}
                            {% elif user.userprofile.role == 'HEAD' %}
                                {% include 'includes/head_sidebar.html' %}
                            {% else %}
                                {% include 'includes/employee_sidebar.html' %}
                            {% endif %}
                        {% endblock %}
                    </div>
                </aside>
                
                <!-- Main content -->
                <section class="section-container">
                    <div class="content-wrapper">
                        {% block content %}{% endblock %}
                    </div>
                </section>

                <!-- Footer -->
                <footer class="footer-container">
                    <span>&copy; 2025 - Paperless EDMS</span>
                </footer>
            </div>
            
        {% else %}
<<<<<<< Updated upstream
            <div class="container d-flex align-items-center justify-content-center" style="min-height: 80vh;">
                {% block auth_content %}
                    <div class="w-100">
                        {% block content_placeholder %}{% endblock %}
                    </div>
                {% endblock %}
=======
            <div style="min-height: 100vh; width: 100vw; overflow-x: hidden;">
                {% block auth_content %}{% endblock %}
>>>>>>> Stashed changes
            </div>
        {% endif %}
    {% endblock main_container %}

<<<<<<< Updated upstream
    <!-- JavaScript -->
=======
>>>>>>> Stashed changes
    <script src="{% static 'assets/vendor/jquery/dist/jquery.js' %}"></script>
    <script src="{% static 'assets/vendor/popper.js/dist/umd/popper.js' %}"></script>
    <script src="{% static 'assets/vendor/bootstrap/dist/js/bootstrap.js' %}"></script>
    <script src="{% static 'assets/vendor/jquery-slimscroll/jquery.slimscroll.js' %}"></script>
    <script src="{% static 'assets/vendor/js-storage/js.storage.js' %}"></script>
    
<<<<<<< Updated upstream
    <!-- Load these but they might not be needed -->
    <script src="{% static 'assets/js/modules/common/slimscroll.js' %}"></script>
    <script src="{% static 'assets/js/modules/common/bootstrap-start.js' %}"></script>
    
   <script>
        $(function() {
            // Handle user block toggle (uses Bootstrap's collapse)
            $('#user-block-toggle').on('click', function(e) {
                e.preventDefault();
                $('#user-block').collapse('toggle');
            });
            
            // Handle window resize
            $(window).on('resize', function() {
                if ($(window).width() > 992) {
                    $('body').removeClass('aside-toggled');
                }
            });
            
            // Initialize slimscroll on sidebar
            if ($.fn.slimscroll && $('.sidebar').length) {
                $('.sidebar').slimscroll({
                    height: '100%',
                    size: '3px',
                    color: '#a1a2a3',
                    alwaysVisible: false,
                    distance: '3px',
                    railVisible: true,
                    railColor: '#f5f5f5'
                });
            }
        });
    </script>
    
=======
    <script src="{% static 'assets/js/modules/common/sidebar.js' %}"></script>
    <script src="{% static 'assets/js/modules/common/toggle-state.js' %}"></script>
    <script src="{% static 'assets/js/modules/common/slimscroll.js' %}"></script>
    <script src="{% static 'assets/js/modules/common/bootstrap-start.js' %}"></script>
    
    <script src="{% static 'assets/js/app.init.js' %}"></script>
    <script src="{% static 'assets/js/app.js' %}"></script>
    
    <script src="{% static 'assets/js/custom/custom.js' %}"></script>
>>>>>>> Stashed changes
    {% block extra_js %}{% endblock %}
</body>
</html>